0010 REM TERMINAL V0.1
0020 IF PEEK( 28677)+PEEK( 28678)*256<> 65024THEN ?"LOAD XBAS FIRST":END 
0030 GOSUB 9000
0040 TXTMAP FG,BG
0050 POKE 30216,1:PRINT "Terminal Emulator Configuration":POKE 30216,0
0060 LOCATE 0,2:PRINT "Select Baudrate   : ";BR
0070 PRINT "0=2400  1=1200"
0080 PRINT "2=0600  3=0300"
0090 LOCATE 0,6:PRINT "Colors:"
0100 LOCATE 1,8:PRINT "  0    1  ";
0110 FOR I=2TO 15
0120 COLOR 1,I
0130 IF I<10PRINT " ";
0140 PRINT " ";I;"  ";
0150 IF I=7LOCATE 1,9
0160 NEXT I
0170 PLOT 61,5,FGTO 61,218TO 82,218TO 82,5TO 61,5
0180 LOCATE 0,12:COLOR FG,BG
0190 PRINT "Foreground Color  : ";FG
0200 PRINT "Background Color  : ";BG
0210 LOCATE 0,15:PRINT "Local echo (Y/N)  : ";:IF E=1THEN ?"Y"ELSE ?"N"
0220 LOCATE 0,17:PRINT "Status bar (Y/N)  : ";:IF S=1THEN ?"Y"ELSE ?"N"
0230 LOCATE 0,22:PRINT "Settings ok? (Y/N): "
0500 A$="":LINPUT 20,22,2,A$
0510 A$=LEFT$( A$,1)
0520 IF A$="Y"OR A$="y"GOTO 2000
0530 IF A$="N"OR A$="n"GOSUB 1000:GOTO 40
0540 GOTO 500
1000 REM CONFIGURATION
1010 GOSUB 3000
1020 GOSUB 4000
1030 GOSUB 5000
1040 RETURN 
2000 REM START TERMINAL
2010 POKE 30220,BR
2020 POKE 30225,E
2030 REM TO DO: POKE 30NNN,S
2040 TERMINAL FG,BG
2050 END 
3000 REM INPUT BAUDRATE
3010 A$=STR$( BR)
3020 LINPUT 20,2,2,A$
3030 BR=VAL( A$):IF B>3GOTO 3020
3040 RETURN 
4000 REM INPUT COLORS
4010 A$=STR$( FG)
4020 LINPUT 20,12,2,A$
4030 FG=VAL( A$):IF FG>15GOTO 4010
4040 A$=STR$( BG)
4050 LINPUT 20,13,2,A$
4060 BG=VAL( A$):IF BG>15GOTO 4050
4070 IF FG=BGOR (FG<2AND BG<2)GOTO 4020
4080 RETURN 
5000 REM OTHER SETTINGS
5010 IF E=1THEN A$="Y"ELSE A$="N"
5020 LINPUT 20,15,2,A$
5030 A$=LEFT$( A$,1)
5040 IF A$="Y"OR A$="y"THEN E=1ELSE E=0
5050 REM IF S=1THEN A$="Y"ELSE A$="N"
5060 REM LINPUT 20,17,2,A$
5070 A$=LEFT$( A$,1)
5080 REM IF A$="Y" OR A$="y"THEN S=1ELSE S=0
5090 RETURN 
9000 REM INITIAL SETTINGS
9010 CALL 61440
9020 BR=2
9030 FG=2:BG=1
9040 E=0
9050 S=1
9060 RETURN 
